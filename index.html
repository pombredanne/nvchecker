<!doctype html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="nvchecker : New version checker for software">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>nvchecker</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/lilydjwg/nvchecker">View on GitHub</a>

          <h1 id="project_title">nvchecker</h1>
          <h2 id="project_tagline">New version checker for software</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/lilydjwg/nvchecker/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/lilydjwg/nvchecker/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">


<p><strong>nvchecker</strong> (short for <em>new version checker</em>) is for checking if a new version of some software has been released.</p>
<a class="reference external image-reference" href="https://travis-ci.org/lilydjwg/nvchecker"><object data="https://travis-ci.org/lilydjwg/nvchecker.svg" type="image/svg+xml">Build Status</object></a>
<a class="reference external image-reference" href="http://badge.fury.io/py/nvchecker"><object data="https://badge.fury.io/py/nvchecker.svg" type="image/svg+xml">PyPI version</object></a>
<h1><a class_="anchor" href="#contents" name="contents"><span class_="octicon octicon-link"></span></a>Contents</h1>
<ul>
<li><a class="reference external" href="#dependency">Dependency</a></li>
<li><a class="reference external" href="#running">Running</a></li>
<li><a class="reference external" href="#version-record-files">Version Record Files</a><ul>
<li><a class="reference external" href="#the-nvtake-command">The nvtake Command</a></li>
</ul>
</li>
<li><a class="reference external" href="#version-source-files">Version Source Files</a><ul>
<li><a class="reference external" href="#configuration-section">Configuration Section</a></li>
<li><a class="reference external" href="#search-in-a-webpage">Search in a Webpage</a></li>
<li><a class="reference external" href="#find-with-a-command">Find with a Command</a></li>
<li><a class="reference external" href="#check-aur">Check AUR</a></li>
<li><a class="reference external" href="#check-github">Check GitHub</a></li>
<li><a class="reference external" href="#check-bitbucket">Check BitBucket</a></li>
<li><a class="reference external" href="#check-gitcafe">Check GitCafe</a></li>
<li><a class="reference external" href="#check-gitlab">Check GitLab</a></li>
<li><a class="reference external" href="#check-pypi">Check PyPI</a></li>
<li><a class="reference external" href="#check-rubygems">Check RubyGems</a></li>
<li><a class="reference external" href="#check-npm-registry">Check NPM Registry</a></li>
<li><a class="reference external" href="#check-hackage">Check Hackage</a></li>
<li><a class="reference external" href="#check-cpan">Check CPAN</a></li>
<li><a class="reference external" href="#check-local-pacman-database">Check Local Pacman Database</a></li>
<li><a class="reference external" href="#check-arch-linux-official-packages">Check Arch Linux official packages</a></li>
<li><a class="reference external" href="#check-google-code-hg-repository">Check Google Code (hg repository)</a></li>
<li><a class="reference external" href="#check-google-code-svn-repository">Check Google Code (svn repository)</a></li>
<li><a class="reference external" href="#manually-updating">Manually updating</a></li>
<li><a class="reference external" href="#version-control-system-vcs-git-hg-svn-bzr">Version Control System (VCS) (git, hg, svn, bzr)</a></li>
<li><a class="reference external" href="#other">Other</a></li>
</ul>
</li>
<li><a class="reference external" href="#bugs">Bugs</a></li>
<li><a class="reference external" href="#footnotes">Footnotes</a></li>
</ul>
<h1><a class_="anchor" href="#dependency" name="dependency"><span class_="octicon octicon-link"></span></a>Dependency</h1>
<ul>
<li>Python 3</li>
<li>Tornado</li>
<li>Optional pycurl</li>
<li>All commands used in your version source files</li>
</ul>
<h1><a class_="anchor" href="#running" name="running"><span class_="octicon octicon-link"></span></a>Running</h1>
<p>To see available options:</p>
<pre><code>./nvchecker --help
</code></pre>
<p>Run with one or more software version source files:</p>
<pre><code>./nvchecker source_file
</code></pre>
<p>You normally will like to specify some "version record files"; see below.</p>
<h1><a class_="anchor" href="#version%20record%20files" name="version%20record%20files"><span class_="octicon octicon-link"></span></a>Version Record Files</h1>
<p>Version record files record which version of the software you know or is available. They are simple key-value pairs of <code>(name, version)</code> seperated by a space<sup><a class="citation-reference" href="#v0-3" id="id1">[v0.3]</a></sup>:</p>
<pre><code>fcitx 4.2.7
google-chrome 27.0.1453.93-200836
vim 7.3.1024
</code></pre>
<p>Say you've got a version record file called <code>old_ver.txt</code> which records all your watched software and their versions, as well as some configuration entries. To update it using <code>nvchecker</code>:</p>
<pre><code>./nvchecker source.ini
</code></pre>
<p>See what are updated with <code>nvcmp</code>:</p>
<pre><code>./nvcmp source.ini
</code></pre>
<p>Manually compare the two files for updates (assuming they are sorted alphabetically; files generated by <code>nvchecker</code> are already sorted):</p>
<pre><code>comm -13 old_ver.txt new_ver.txt
# or say that in English:
comm -13 old_ver.txt new_ver.txt | awk '{print $1 " has updated to version " $2 "."}'
# show both old and new versions
join old_ver.txt new_ver.txt | awk '$2 != $3'
</code></pre>
<div class="section" id="the-nvtake-command">
<h2>The <code>nvtake</code> Command</h2>
<p>This command helps to manage version record files. It reads both old and new version record files, and a list of names given on the commandline. It then update the versions of those names in the old version record file.</p>
<p>This helps when you have known (and processed) some of the updated software, but not all. You can tell nvchecker that via this command instead of editing the file by hand.</p>
<p>This command will help most if you specify where you version record files are in your config file. See below for how to use a config file.</p>
</div>
<h1><a class_="anchor" href="#version%20source%20files" name="version%20source%20files"><span class_="octicon octicon-link"></span></a>Version Source Files</h1>
<p>The software version source files are in ini format. <em>Section names</em> is the name of the software. Following fields are used to tell nvchecker how to determine the current version of that software.</p>
<p>See <code>sample_source.ini</code> for an example.</p>
<div class="section" id="configuration-section">
<h2>Configuration Section</h2>
<p>A special section named <code>__config__</code> is special, it provides some configuration options<sup><a class="citation-reference" href="#v0-4" id="id2">[v0.4]</a></sup>.</p>
<p>Relative path are relative to the source files, and <code>~</code> and environmental variables are expanded.</p>
<p>Currently supported options are:</p>
<dl class="docutils">
<dt>oldver</dt>
<dd>Specify a version record file containing the old version info.</dd>
<dt>newver</dt>
<dd>Specify a version record file to store the new version info.</dd>
</dl>
</div>
<div class="section" id="search-in-a-webpage">
<h2>Search in a Webpage</h2>
<p>Search through a specific webpage for the version string. This type of version finding has these fields:</p>
<dl class="docutils">
<dt>url</dt>
<dd>The URL of the webpage to fetch.</dd>
<dt>encoding</dt>
<dd>(<em>Optional</em>) The character encoding of the webpage, if <code>latin1</code> is not appropriate.</dd>
<dt>regex</dt>
<dd><p class="first">A regular expression used to find the version string.</p>
<p>It can have zero or one capture group. The capture group or the whole match is the version string.</p>
<p class="last">When multiple version strings are found, the maximum of those is chosen.</p>
</dd>
<dt>proxy</dt>
<dd>The HTTP proxy to use. The format is <code>host:port</code>, e.g. <code>localhost:8087</code>. This requires <a class="reference external" href="http://pycurl.sourceforge.net/">pycurl</a>.</dd>
<dt>user_agent</dt>
<dd>The <code><span class="pre">User-Agent</span></code> header value to use. Use something more like a tool (e.g. <code>curl/7.40.0</code>) in Europe or the real web page won't get through because cookie policies (SourceForge has this issue).</dd>
</dl>
</div>
<div class="section" id="find-with-a-command">
<h2>Find with a Command</h2>
<p>Use a shell command line to get the version. The output is striped first, so trailing newlines do not bother.</p>
<dl class="docutils">
<dt>cmd</dt>
<dd>The command line to use. This will run with the system's standard shell (i.e. <code>/bin/sh</code>).</dd>
</dl>
</div>
<div class="section" id="check-aur">
<h2>Check AUR</h2>
<p>Check <a class="reference external" href="https://aur.archlinux.org/">Arch User Repository</a> for updates.</p>
<dl class="docutils">
<dt>aur</dt>
<dd>The package name in AUR. If empty, use the name of software (the <em>section name</em>).</dd>
<dt>strip-release</dt>
<dd>Strip the release part.</dd>
</dl>
</div>
<div class="section" id="check-github">
<h2>Check GitHub</h2>
<p>Check <a class="reference external" href="https://github.com/">GitHub</a> for updates. The version returned is in date format <code>%Y%m%d</code>, e.g. <code>20130701</code>.</p>
<dl class="docutils">
<dt>github</dt>
<dd>The github repository, with author, e.g. <code>lilydjwg/nvchecker</code>.</dd>
<dt>branch</dt>
<dd>Which branch to track? Default: <code>master</code>.</dd>
<dt>use_latest_release</dt>
<dd>Set this to <code>true</code> to check for the latest release on GitHub. An annotated
tag creates a "release" on GitHub. It's not the same with git tags, which
includes both annotated tags and lightweight ones.</dd>
<dt>use_max_tag</dt>
<dd>Set this to <code>true</code> to check for the max tag on GitHub. Unlike <code>use_latest_release</code>,
this option includes both annotated tags and lightweight ones, and return the biggest one
sorted by <code>pkg_resources.parse_version</code>.</dd>
<dt>ignored_tags</dt>
<dd>Ignore certain tags while computing the max tag. Tags are separate by
whitespaces. This option must be used together with <code>use_max_tag</code>. This can
be useful to avoid some known badly versioned tags, so the newer tags won't
be "overridden" by the old broken ones.</dd>
</dl>
<p>An environment variable <code>NVCHECKER_GITHUB_TOKEN</code> can be set to a GitHub OAuth token in order to request more frequently than anonymously.</p>
</div>
<div class="section" id="check-bitbucket">
<h2>Check BitBucket</h2>
<p>Check <a class="reference external" href="https://bitbucket.org/">BitBucket</a> for updates. The version returned is in date format <code>%Y%m%d</code>, e.g. <code>20130701</code>.</p>
<dl class="docutils">
<dt>bitbucket</dt>
<dd>The bitbucket repository, with author, e.g. <code>lilydjwg/dotvim</code>.</dd>
<dt>branch</dt>
<dd>Which branch to track? Default is the repository's default.</dd>
<dt>use_max_tag</dt>
<dd>Set this to <code>true</code> to check for the max tag on BitBucket. Will return the biggest one
sorted by <code>pkg_resources.parse_version</code>.</dd>
<dt>ignored_tags</dt>
<dd>Ignore certain tags while computing the max tag. Tags are separate by
whitespaces. This option must be used together with <code>use_max_tag</code>. This can
be useful to avoid some known badly versioned tags, so the newer tags won't
be "overridden" by the old broken ones.</dd>
</dl>
</div>
<div class="section" id="check-gitcafe">
<h2>Check GitCafe</h2>
<p>Check <a class="reference external" href="https://gitcafe.com/">GitCafe</a> for updates. The version returned is in date format <code>%Y%m%d</code>, e.g. <code>20130701</code>.</p>
<dl class="docutils">
<dt>gitcafe</dt>
<dd>The gitcafe repository, with author, e.g. <code><span class="pre">Deepin/deepin-music</span></code>.</dd>
<dt>branch</dt>
<dd>Which branch to track? Default: <code>master</code>.</dd>
</dl>
<p>Anonymously only. Authorization is not supported yet.</p>
</div>
<div class="section" id="check-gitlab">
<h2>Check GitLab</h2>
<p>Check <a class="reference external" href="https://gitlab.com/">GitLab</a> for updates. The version returned is in date format <code>%Y%m%d</code>, e.g. <code>20130701</code>.</p>
<dl class="docutils">
<dt>gitlab</dt>
<dd>The gitlab repository, with author, e.g. <code><span class="pre">Deepin/deepin-music</span></code>.</dd>
<dt>branch</dt>
<dd>Which branch to track? Default: <code>master</code>.</dd>
<dt>use_max_tag</dt>
<dd>Set this to <code>true</code> to check for the max tag on BitBucket. Will return the biggest one
sorted by <code>pkg_resources.parse_version</code>.</dd>
<dt>ignored_tags</dt>
<dd>Ignore certain tags while computing the max tag. Tags are separate by
whitespaces. This option must be used together with <code>use_max_tag</code>. This can
be useful to avoid some known badly versioned tags, so the newer tags won't
be "overridden" by the old broken ones.</dd>
<dt>host</dt>
<dd>Hostname for self-hosted GitLab instance.</dd>
<dt>token</dt>
<dd>GitLab authorization token used to call the API. If not specified, an environment variable <code>NVCHECKER_GITLAB_TOKEN_host</code> must provide that token. The <code>host</code> part is the uppercased version of the <code>host</code> setting, with dots (<code>.</code>) and slashes (<code>/</code>) replaced by underscores (<code>_</code>), e.g. <code>NVCHECKER_GITLAB_TOKEN_GITLAB_COM</code>.</dd>
</dl>
<p>Authenticated only.</p>
</div>
<div class="section" id="check-pypi">
<h2>Check PyPI</h2>
<p>Check <a class="reference external" href="https://pypi.python.org/">PyPI</a> for updates.</p>
<dl class="docutils">
<dt>pypi</dt>
<dd>The name used on PyPI, e.g. <code>PySide</code>.</dd>
</dl>
</div>
<div class="section" id="check-rubygems">
<h2>Check RubyGems</h2>
<p>Check <a class="reference external" href="https://rubygems.org/">RubyGems</a> for updates.</p>
<dl class="docutils">
<dt>gems</dt>
<dd>The name used on RubyGems, e.g. <code>sass</code>.</dd>
</dl>
</div>
<div class="section" id="check-npm-registry">
<h2>Check NPM Registry</h2>
<p>Check <a class="reference external" href="https://registry.npmjs.org/">NPM Registry</a> for updates.</p>
<dl class="docutils">
<dt>npm</dt>
<dd>The name used on NPM Registry, e.g. <code><span class="pre">coffee-script</span></code>.</dd>
</dl>
</div>
<div class="section" id="check-hackage">
<h2>Check Hackage</h2>
<p>Check <a class="reference external" href="https://hackage.haskell.org/">Hackage</a> for updates.</p>
<dl class="docutils">
<dt>hackage</dt>
<dd>The name used on Hackage, e.g. <code>pandoc</code>.</dd>
</dl>
</div>
<div class="section" id="check-cpan">
<h2>Check CPAN</h2>
<p>Check <a class="reference external" href="https://metacpan.org/">MetaCPAN</a> for updates.</p>
<dl class="docutils">
<dt>cpan</dt>
<dd>The name used on CPAN, e.g. <code>YAML</code>.</dd>
</dl>
</div>
<div class="section" id="check-packagist">
<h2>Check Packagist</h2>
<p>Check <a class="reference external" href="https://packagist.org/">Packagist</a> for updates.</p>
<dl class="docutils">
<dt>packagist</dt>
<dd>The name used on Packagist, e.g. <code>monolog/monolog</code>.</dd>
</dl>
</div>
<div class="section" id="check-local-pacman-database">
<h2>Check Local Pacman Database</h2>
<p>This is used when you run <code>nvchecker</code> on an Arch Linux system and the program always keeps up with a package in your configured repositories for <a class="reference external" href="https://wiki.archlinux.org/index.php/Pacman">Pacman</a>.</p>
<dl class="docutils">
<dt>pacman</dt>
<dd>The package name to reference to.</dd>
<dt>strip-release</dt>
<dd>Strip the release part.</dd>
</dl>
</div>
<div class="section" id="check-arch-linux-official-packages">
<h2>Check Arch Linux official packages</h2>
<p>This enables you to track the update of <a class="reference external" href="https://www.archlinux.org/packages/">Arch Linux official packages</a>, without needing of pacman and an updated local Pacman databases.</p>
<dl class="docutils">
<dt>archpkg</dt>
<dd>Name of the Arch Linux package.</dd>
<dt>strip-release</dt>
<dd>Strip the release part.</dd>
</dl>
</div>
<div class="section" id="check-google-code-hg-repository">
<h2>Check Google Code (hg repository)</h2>
<p>Check a mercurial (hg) repository on <a class="reference external" href="https://code.google.com/">Google Code</a> for updates. The version returned is in date format <code>%Y%m%d</code>, e.g. <code>20130701</code>.</p>
<dl class="docutils">
<dt>gcode_hg</dt>
<dd>The name used on Google Code, e.g. <code><span class="pre">chromium-compact-language-detector</span></code>.</dd>
</dl>
</div>
<div class="section" id="check-google-code-svn-repository">
<h2>Check Google Code (svn repository)</h2>
<p>Check a subversion (svn) repository on <a class="reference external" href="https://code.google.com/">Google Code</a> for updates. The version returned is the svn resivion number.</p>
<dl class="docutils">
<dt>gcode_svn</dt>
<dd>The name used on Google Code, e.g. <code>cld2</code>.</dd>
</dl>
</div>
<div class="section" id="manually-updating">
<h2>Manually updating</h2>
<p>This enables you to manually specify the version (maybe because you want to approve each release before it gets to the script).</p>
<dl class="docutils">
<dt>manual</dt>
<dd>The version string.</dd>
</dl>
</div>
<div class="section" id="version-control-system-vcs-git-hg-svn-bzr">
<h2>Version Control System (VCS) (git, hg, svn, bzr)</h2>
<p>Check a VCS repo for new commits. The version returned is currently not related to the version of the software and will increase whenever the referred VCS branch changes. This is mainly for Arch Linux.</p>
<dl class="docutils">
<dt>vcs</dt>
<dd>The url of the remote VCS repo, using the same syntax with a VCS url in PKGBUILD (<a class="reference external" href="https://wiki.archlinux.org/index.php/Pacman">Pacman</a>'s build script). The first VCS url found in the source array of the PKGBUILD will be used if this is left blank. (Note: for a blank <code>vcs</code> setting to work correctly, the PKGBUILD has to be in a directory with the name of the software under the path where nvchecker is run. Also, all the commands, if any, needed when sourcing the PKGBUILD need to be installed).</dd>
</dl>
</div>
<div class="section" id="other">
<h2>Other</h2>
<p>More to come. Send me a patch or pull request if you can't wait and have written one yourself :-)</p>
</div>
<h1><a class_="anchor" href="#bugs" name="bugs"><span class_="octicon octicon-link"></span></a>Bugs</h1>
<ul>
<li>Finish writing results even on Ctrl-C or other interruption.</li>
</ul>
<h1><a class_="anchor" href="#footnotes" name="footnotes"><span class_="octicon octicon-link"></span></a>Footnotes</h1>
<table class="docutils citation" frame="void" id="v0-3" rules="none">
<colgroup><col class="label"><col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[v0.3]</a></td><td>Note: with nvchecker &lt;= 0.2, there are one more colon each line. You can use <code>sed <span class="pre">-i</span> <span class="pre">'s/://'</span> <span class="pre">FILES...</span></code> to remove them.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="v0-4" rules="none">
<colgroup><col class="label"><col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[v0.4]</a></td><td>This is added in version 0.4, and old command-line options are removed.</td></tr>
</tbody>
</table>
</section>
</div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">nvchecker maintained by <a href="https://github.com/lilydjwg">lilydjwg</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
